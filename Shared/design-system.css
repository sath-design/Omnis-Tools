@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    body {
        @apply bg-background text-text-main font-sans tracking-tight leading-relaxed antialiased;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        @apply font-bold tracking-tight text-text-main;
    }
}

@layer components {

    /* Buttons */
    .btn {
        @apply inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium transition-all duration-200 border border-transparent shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed;
    }

    .btn-primary {
        @apply bg-primary text-white hover:bg-primary-hover active:transform active:scale-95;
    }

    .btn-secondary {
        @apply bg-white text-text-main border-border hover:bg-gray-50;
    }

    .btn-success {
        @apply bg-success text-white hover:opacity-90;
    }

    .btn-danger {
        @apply bg-red-600 text-white hover:bg-red-700;
    }

    /* Form Elements */
    .input-label {
        @apply block text-sm font-medium text-text-muted mb-1;
    }

    .input-field {
        @apply block w-full px-3 py-2 bg-white border border-border rounded-md text-sm shadow-sm placeholder-gray-400 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary disabled:bg-gray-100 disabled:text-gray-500;
    }

    .select-field {
        @apply block w-full px-3 py-2 bg-white border border-border rounded-md text-sm shadow-sm focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary;
    }

    /* Cards & Containers */
    .card {
        @apply bg-white rounded-xl shadow-subtle border border-border p-6;
    }

    /* Utilities */
    .glass-panel {
        @apply bg-white/80 backdrop-blur-md border border-white/20 shadow-lg;
    }
}

/* Ad Skeleton & Container Stability */
.ad-skeleton {
    position: relative;
    overflow: hidden;
    background-color: #1f2937;
    /* gray-800 */
    min-height: 100px;
    /* Mobile minimum */
    display: flex;
    align-items: center;
    justify-content: center;
    transition: min-height 0.3s ease;
}

@media (min-width: 768px) {
    .ad-skeleton {
        min-height: 280px;
        /* Tablet/Desktop minimum */
    }
}

/* Prevent CLS when ads are loading or empty */
ins.adsbygoogle[data-ad-status="unfilled"] {
    display: none !important;
}

/* Protect critical UI from auto-ad overlap */
.protection-zone {
    margin-top: 3rem !important;
    margin-bottom: 3rem !important;
    position: relative;
    z-index: 10;
}

.ad-skeleton::after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    transform: translateX(-100%);
    background-image: linear-gradient(90deg,
            rgba(255, 255, 255, 0) 0,
            rgba(255, 255, 255, 0.05) 20%,
            rgba(255, 255, 255, 0.1) 60%,
            rgba(255, 255, 255, 0));
    animation: shimmer 2s infinite;
}

@keyframes shimmer {
    100% {
        transform: translateX(100%);
    }
}

/* Micro-animations */

/* i18n Loading States */
.i18n-loading {
    opacity: 0 !important;
    transition: opacity 0.2s ease-in;
}

.i18n-initialized {
    opacity: 1 !important;
}